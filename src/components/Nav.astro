---
export const LINKS = [
  {name: 'home', to: '/'},
  {name: 'projects', to: '/projects'},
  {name: 'about', to: '/about'},
  {name: 'blog', to: '/blog'},
  // {name: 'payments', to: '/payments'},
  // {name: 'music', to: '/music'},
]

const currentPath = Astro.url.pathname
---

<nav class='navbar'>
  <a href='/' class='logo' aria-label='Homepage'>
    <svg
      xmlns='http://www.w3.org/2000/svg'
      width='84'
      height='48'
      viewBox='0 0 84 48'
      fill='none'
      aria-hidden='true'
      ><g filter='url(#a)' fill='#fff'
        ><path
          d='M10.409 23.463a8.4 8.4 0 0 1-2.23-.303 8.7 8.7 0 0 1-1.98-.825 6.5 6.5 0 0 1-1.57-1.321l2.147-2.174q.688.77 1.596 1.156a5.1 5.1 0 0 0 2.01.385q.88 0 1.32-.248.468-.247.468-.743 0-.55-.495-.853-.468-.302-1.239-.495l-1.623-.468a10 10 0 0 1-1.596-.688 3.7 3.7 0 0 1-1.266-1.183q-.468-.77-.468-1.982 0-1.265.605-2.201.633-.936 1.79-1.459Q9.032 9.54 10.6 9.54q1.652 0 2.973.577a5.46 5.46 0 0 1 2.229 1.734l-2.174 2.174q-.606-.743-1.376-1.073a3.95 3.95 0 0 0-1.624-.33q-.798 0-1.238.247-.413.248-.413.688 0 .495.468.77.495.276 1.266.496.77.194 1.596.468a6.3 6.3 0 0 1 1.596.716q.77.467 1.238 1.238.495.77.495 1.981 0 1.955-1.403 3.11-1.403 1.128-3.825 1.128m12.806-.027q-2.01 0-3.633-.908a7.3 7.3 0 0 1-2.56-2.505q-.935-1.596-.935-3.55t.936-3.495a6.8 6.8 0 0 1 2.559-2.476q1.623-.936 3.605-.936 2.037 0 3.633.936a6.77 6.77 0 0 1 2.559 2.476q.935 1.542.935 3.495t-.935 3.55a7 7 0 0 1-2.56 2.505q-1.595.908-3.604.908m-.028-3.358q1.018 0 1.789-.44a3.1 3.1 0 0 0 1.21-1.266q.44-.825.44-1.871t-.44-1.844a3.15 3.15 0 0 0-1.21-1.238q-.77-.468-1.789-.468-.99 0-1.761.468a3.15 3.15 0 0 0-1.211 1.238q-.44.798-.44 1.844 0 1.045.44 1.871.44.798 1.21 1.266.772.44 1.762.44m17.291 3.082v-7.622q0-1.184-.743-1.927-.742-.743-1.926-.743-.77 0-1.376.33t-.963.936q-.33.606-.33 1.404l-1.404-.716q0-1.568.66-2.724a4.74 4.74 0 0 1 1.817-1.844q1.184-.66 2.697-.66t2.669.66a4.74 4.74 0 0 1 1.844 1.816q.66 1.155.66 2.67v8.42l-1.802 1.476zm-8.943 0V3.264l1.802-2 1.803 2v19.897zm19.91.276q-1.815 0-3.275-.908a6.33 6.33 0 0 1-2.284-2.477q-.825-1.569-.825-3.523 0-1.98.825-3.55a6.33 6.33 0 0 1 2.284-2.476q1.459-.908 3.275-.908 1.43 0 2.56.578a4.5 4.5 0 0 1 1.788 1.623q.689 1.019.743 2.312v4.788q-.054 1.32-.743 2.34a4.8 4.8 0 0 1-1.788 1.623q-1.13.578-2.56.578m.66-3.33q1.514 0 2.45-.99.936-1.02.936-2.615 0-1.046-.44-1.844a2.93 2.93 0 0 0-1.184-1.266q-.742-.468-1.761-.468-.99 0-1.762.468a3.16 3.16 0 0 0-1.183 1.266q-.413.798-.413 1.844 0 1.072.413 1.899.44.798 1.183 1.266.77.44 1.762.44m3.193 3.054v-3.577l.578-3.247-.578-3.192V9.869H59V23.16zm5.666 0V9.87h3.605v13.29zm8.668 0v-7.842q0-1.156-.743-1.79-.715-.66-1.788-.66-.716 0-1.294.303a2.1 2.1 0 0 0-.908.826q-.33.55-.33 1.32l-1.404-.687q0-1.542.66-2.67a4.65 4.65 0 0 1 1.845-1.734q1.155-.632 2.614-.632 1.376 0 2.504.633a4.5 4.5 0 0 1 1.789 1.733q.66 1.101.66 2.67v8.53zm8.669 0v-7.842q0-1.156-.743-1.79-.715-.66-1.789-.66-.689 0-1.293.303a2.1 2.1 0 0 0-.908.826q-.33.55-.33 1.32l-2.064-.495q.11-1.596.853-2.752a5 5 0 0 1 1.954-1.816q1.21-.66 2.696-.66t2.67.633q1.183.605 1.871 1.76.688 1.157.688 2.753v8.42z'
        ></path><path
          d='M8.496 44.835a8.4 8.4 0 0 1-2.23-.303 8.7 8.7 0 0 1-1.98-.825 6.5 6.5 0 0 1-1.57-1.321l2.147-2.174q.689.77 1.596 1.155a5.1 5.1 0 0 0 2.01.386q.88 0 1.32-.248.468-.248.468-.743 0-.55-.495-.853-.468-.303-1.239-.495-.77-.22-1.623-.468a10 10 0 0 1-1.596-.688 3.7 3.7 0 0 1-1.266-1.184q-.468-.77-.468-1.98 0-1.267.605-2.202.633-.936 1.79-1.459 1.155-.523 2.723-.523 1.651 0 2.973.578a5.46 5.46 0 0 1 2.229 1.734l-2.174 2.174q-.606-.743-1.376-1.073a3.95 3.95 0 0 0-1.624-.33q-.798 0-1.238.247-.414.247-.413.688 0 .495.468.77.495.277 1.266.496a22 22 0 0 1 1.596.468q.852.247 1.596.715.77.468 1.238 1.239.496.77.496 1.98 0 1.956-1.404 3.11-1.403 1.13-3.825 1.129m12.117-.028q-1.815 0-3.274-.908a6.33 6.33 0 0 1-2.284-2.477q-.825-1.568-.826-3.522 0-1.98.826-3.55a6.33 6.33 0 0 1 2.284-2.477q1.459-.908 3.274-.908 1.432 0 2.56.578a4.5 4.5 0 0 1 1.789 1.624q.687 1.019.742 2.311v4.789q-.055 1.32-.742 2.339a4.8 4.8 0 0 1-1.79 1.624q-1.127.577-2.559.577m.66-3.33q1.515 0 2.45-.99.936-1.018.936-2.614 0-1.046-.44-1.844a2.93 2.93 0 0 0-1.184-1.266q-.743-.468-1.761-.468-.99 0-1.761.468a3.16 3.16 0 0 0-1.184 1.266q-.412.798-.412 1.843 0 1.074.412 1.9.44.797 1.184 1.265.77.44 1.76.44m3.193 3.055v-3.577l.578-3.248-.578-3.192V31.24h3.786v13.292zm5.666 0V31.24h3.605v13.292zm3.605-7.347-1.403-.936q.248-2.45 1.43-3.853 1.185-1.43 3.413-1.43.963 0 1.734.33.77.301 1.403 1.018L38.058 34.9a1.9 1.9 0 0 0-.743-.496 2.6 2.6 0 0 0-.964-.165q-1.155 0-1.898.743-.716.715-.716 2.202m15.219 7.347-5.147-6.852 5.12-6.44h4.154l-5.999 7.265.138-1.76 6.137 7.787zm-8.476 0V24.636l1.8-1.476 1.805 1.476v19.896l-1.802 2.204zm18.379.275q-1.817 0-3.275-.908a6.33 6.33 0 0 1-2.284-2.477q-.825-1.568-.826-3.522 0-1.98.826-3.55a6.33 6.33 0 0 1 2.284-2.477q1.458-.908 3.275-.908 1.431 0 2.559.578a4.5 4.5 0 0 1 1.789 1.624q.687 1.019.743 2.311v4.789q-.056 1.32-.743 2.339a4.8 4.8 0 0 1-1.79 1.624q-1.127.577-2.558.577m.66-3.33q1.514 0 2.45-.99.935-1.018.935-2.614 0-1.046-.44-1.844a2.93 2.93 0 0 0-1.184-1.266q-.743-.468-1.76-.468-.991 0-1.762.468a3.16 3.16 0 0 0-1.184 1.266q-.412.798-.412 1.843 0 1.074.413 1.9.44.797 1.183 1.265.77.44 1.761.44m3.192 3.055v-3.577l.578-3.248-.578-3.192V31.24H66.5v13.292zm5.666 0V31.24h3.605v13.292zm3.605-7.347-1.403-.936q.248-2.45 1.43-3.853 1.185-1.43 3.413-1.43.963 0 1.734.33.77.301 1.403 1.018L76.303 34.9a1.9 1.9 0 0 0-.743-.496 2.6 2.6 0 0 0-.963-.165q-1.156 0-1.9.743-.715.715-.715 2.202'
        ></path></g
      ><defs
        ><filter
          id='a'
          x='.717'
          y='-.736'
          width='83.189'
          height='49.472'
          filterUnits='userSpaceOnUse'
          color-interpolation-filters='sRGB'
          ><feFlood flood-opacity='0' result='BackgroundImageFix'></feFlood><feBlend
            in='SourceGraphic'
            in2='BackgroundImageFix'
            result='shape'></feBlend><feColorMatrix
            in='SourceAlpha'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'
            result='hardAlpha'></feColorMatrix><feOffset dx='2' dy='2'></feOffset><feGaussianBlur
            stdDeviation='2'></feGaussianBlur><feComposite
            in2='hardAlpha'
            operator='arithmetic'
            k2='-1'
            k3='1'></feComposite><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0'
          ></feColorMatrix><feBlend in2='shape' result='effect1_innerShadow_1119_229'
          ></feBlend><feColorMatrix
            in='SourceAlpha'
            values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'
            result='hardAlpha'></feColorMatrix><feOffset dx='-2' dy='-2'></feOffset><feGaussianBlur
            stdDeviation='2'></feGaussianBlur><feComposite
            in2='hardAlpha'
            operator='arithmetic'
            k2='-1'
            k3='1'></feComposite><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.45 0'
          ></feColorMatrix><feBlend
            in2='effect1_innerShadow_1119_229'
            result='effect2_innerShadow_1119_229'></feBlend></filter
        ></defs
      ></svg
    >
  </a>

  <button class='hamburger' id='hamburger' aria-label='Toggle navigation menu'>
    <span class='hamburger-line'></span>
    <span class='hamburger-line'></span>
    <span class='hamburger-line'></span>
  </button>

  <ul class='nav-links' id='nav-links'>
    {
      LINKS.map(link => {
        const isActive =
          currentPath === link.to || (link.to !== '/' && currentPath.startsWith(link.to))
        return (
          <li class={`nav-item ${isActive ? 'active text-caption-italic-bold' : 'text-caption'}`}>
            <a
              href={link.to}
              class={`nav-link${isActive ? ' active' : ''}`}
              aria-current={isActive ? 'page' : undefined}
            >
              {link.name}
            </a>
          </li>
        )
      })
    }

    <!-- Social icons for mobile drawer -->
    <div class='mobile-social-icons'>
      <a href='/resume' class='social-icon' aria-label='Resume'>
        <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
          <path
            d='M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M13,13V18H15V13H13M9,13V18H11V14H9V13Z'
          ></path>
        </svg>
      </a>
      <a href='/x' class='social-icon' aria-label='X (Twitter)'>
        <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
          <path
            d='M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'
          ></path>
        </svg>
      </a>
      <a href='/github' class='social-icon' aria-label='GitHub'>
        <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
          <path
            d='M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z'
          ></path>
        </svg>
      </a>
      <a href='/linkedin' class='social-icon' aria-label='LinkedIn'>
        <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
          <path
            d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'
          ></path>
        </svg>
      </a>
    </div>
  </ul>

  <div class='social-icons'>
    <a href='/x' class='social-icon' aria-label='X (Twitter)'>
      <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
        <path
          d='M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'
        ></path>
      </svg>
    </a>
    <a href='/github' class='social-icon' aria-label='GitHub'>
      <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
        <path
          d='M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z'
        ></path>
      </svg>
    </a>
    <a href='/linkedin' class='social-icon' aria-label='LinkedIn'>
      <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
        <path
          d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'
        ></path>
      </svg>
    </a>
    <a href='/resume' class='social-icon' aria-label='Resume'>
      <svg width='18' height='18' viewBox='0 0 24 24' fill='currentColor'>
        <path
          d='M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M13,13V18H15V13H13M9,13V18H11V14H9V13Z'
        ></path>
      </svg>
    </a>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const hamburger = document.getElementById('hamburger')
    const navLinks = document.getElementById('nav-links')

    if (hamburger && navLinks) {
      hamburger.addEventListener('click', function () {
        hamburger.classList.toggle('active')
        navLinks.classList.toggle('active')
      })

      // Close menu when clicking on a link
      const navLinkElements = navLinks.querySelectorAll('.nav-link')
      navLinkElements.forEach(link => {
        link.addEventListener('click', function () {
          hamburger.classList.remove('active')
          navLinks.classList.remove('active')
        })
      })
    }
  })
</script>

<style>
  .navbar {
    display: flex;
    position: fixed;
    justify-content: center;
    width: 100%;
    padding: 24px 0;
    z-index: 1000;
    backdrop-filter: blur(8px);
  }

  .logo {
    position: absolute;
    left: 24px;
  }

  .nav-links {
    display: flex;
    padding: 8px;
    align-items: center;
    gap: 24px;
    border-radius: 40px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(8px);
    position: relative;
  }

  .nav-item {
    display: flex;
    padding: 8px 16px;
    justify-content: center;
    align-items: center;
    gap: 8px;
    border-radius: 40px;
    color: white;
    text-decoration: none;
    position: relative;
    transition:
      border 0.3s ease,
      background 0.3s ease,
      box-shadow 0.3s ease;
  }

  .nav-link {
    color: white;
    text-decoration: none;
  }

  .nav-item.active {
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) -67.31%, rgba(0, 0, 0, 0.1) 31.4%);
    box-shadow: 0px 0px 24px 0px rgba(255, 255, 255, 0.16);
  }

  .hamburger {
    display: none;
    flex-direction: column;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    position: absolute;
    right: 24px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1001;
  }

  .hamburger-line {
    width: 24px;
    height: 2px;
    background: white;
    margin: 3px 0;
    transition: 0.3s;
    border-radius: 2px;
  }

  .hamburger.active .hamburger-line:nth-child(1) {
    transform: rotate(-45deg) translate(-5px, 6px);
  }

  .hamburger.active .hamburger-line:nth-child(2) {
    opacity: 0;
  }

  .hamburger.active .hamburger-line:nth-child(3) {
    transform: rotate(45deg) translate(-5px, -6px);
  }

  .social-icons {
    display: flex;
    align-items: center;
    gap: 16px;
    position: absolute;
    right: 24px;
    top: 50%;
    transform: translateY(-50%);
  }

  .social-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    color: white;
    text-decoration: none;
    border-radius: 50%;
    transition:
      color 0.3s ease,
      background-color 0.3s ease,
      transform 0.2s ease;
  }

  .social-icon:hover {
    color: #fff;
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
  }

  .social-icon svg {
    width: 18px;
    height: 18px;
  }

  .mobile-social-icons {
    display: none;
  }

  @media (max-width: 768px) {
    .navbar {
      padding: 16px 12px;
      justify-content: space-between;
    }

    .logo {
      left: 12px;
      position: relative;
    }

    .hamburger {
      display: flex;
    }

    .social-icons {
      display: none;
    }

    .nav-links {
      position: fixed;
      top: 0;
      right: -100%;
      width: 280px;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(12px);
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 32px;
      padding: 20px;
      transition: right 0.3s ease;
      z-index: 1000;
      border: none;
      border-radius: 0;
    }

    .nav-links.active {
      right: 0;
    }

    .nav-item {
      padding: 12px 24px;
      font-size: 18px;
      width: 100%;
      text-align: center;
    }

    .nav-link {
      display: block;
      width: 100%;
      text-align: center;
    }

    .mobile-social-icons {
      display: flex;
      gap: 24px;
      margin-top: 32px;
    }

    .mobile-social-icons .social-icon {
      width: 44px;
      height: 44px;
    }
  }

  @media (max-width: 480px) {
    .navbar {
      padding: 12px 8px;
    }

    .logo {
      left: 8px;
    }

    .hamburger {
      right: 8px;
    }

    .nav-links {
      width: 100%;
      right: -100%;
    }

    .nav-links.active {
      right: 0;
    }

    .nav-item {
      padding: 10px 20px;
      font-size: 16px;
    }

    .mobile-social-icons {
      gap: 20px;
    }

    .mobile-social-icons .social-icon {
      width: 40px;
      height: 40px;
    }
  }
</style>
